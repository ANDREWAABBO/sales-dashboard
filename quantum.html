<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quantum Solutions Sales Force</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:wght@400;600;700&display=swap" rel="stylesheet"/>
  
  <script defer src="password.js"></script>
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
  
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #1e3a8a;
      min-height: 100vh;
      padding: 20px;
      color: #333;
      font-size: 18px;
    }
  
    .company-switcher {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      background: #000000;
      margin: -20px -20px 30px -20px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }
  
    .company-btn {
      padding: 12px 25px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: white;
      font-size: 18px;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      backdrop-filter: blur(10px);
      text-decoration: none;
    }
  
    .company-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }
  
    .company-btn.active {
      background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
      border-color: transparent;
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.5),
                  0 0 60px rgba(59, 130, 246, 0.3);
      animation: glow 2s ease-in-out infinite alternate;
    }
  
    @keyframes glow {
      from { box-shadow: 0 10px 30px rgba(59, 130, 246, 0.5), 0 0 60px rgba(59, 130, 246, 0.3); }
      to   { box-shadow: 0 10px 40px rgba(59, 130, 246, 0.7), 0 0 80px rgba(59, 130, 246, 0.5); }
    }
  
    .company-logo { height: 35px; width: auto; filter: brightness(0) invert(1); transition: all 0.3s ease; }
    .abbondanza-logo { height: 40px; }
    .company-btn:hover .company-logo { transform: scale(1.05); }
  
    .dashboard-container { max-width: 1400px; margin: 0 auto; animation: fadeIn 0.8s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  
    .header { text-align: center; margin-bottom: 35px; color: white; position: relative; }
    .header h1 {
      font-size: 3.2em; font-weight: 700; margin-bottom: 10px; color: white;
      font-family: 'IBM Plex Sans Condensed', 'Arial Narrow', sans-serif;
      letter-spacing: 2px; text-transform: uppercase;
      text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
      animation: titleGlow 3s ease-in-out infinite alternate;
    }
    @keyframes titleGlow { from { filter: brightness(1); } to { filter: brightness(1.3); } }
    .header p { font-size: 1.3em; opacity: 0.9; }
  
    .quantum-grid { display: grid; grid-template-columns: 1fr; gap: 20px; max-width: 800px; margin: 0 auto; }
  
    .card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px; padding: 20px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative; overflow: hidden;
    }
    .card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px;
      background: linear-gradient(90deg, #1e3a8a 0%, #1e40af 100%);
      transform: scaleX(0); transform-origin: left; transition: transform 0.3s ease;
    }
    .card:hover::before { transform: scaleX(1); }
    .card:hover { transform: translateY(-3px); box-shadow: 0 15px 45px rgba(0, 0, 0, 0.35); }
    .card h2 { font-size: 1.5em; margin-bottom: 10px; color: #2d3748; }
    .card p  { color: #718096; margin-bottom: 18px; line-height: 1.5; font-size: 1.1em; }
  
    .btn {
      display: inline-block; padding: 12px 26px; background: #1e3a8a; color: white;
      text-decoration: none; border-radius: 25px; font-weight: 600; transition: all 0.3s ease;
      position: relative; overflow: hidden; border: none; cursor: pointer; font-size: 1.05em;
    }
    .btn::after {
      content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0;
      border-radius: 50%; background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%); transition: width 0.6s, height 0.6s;
    }
    .btn:hover::after { width: 300px; height: 300px; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(30, 58, 138, 0.4); background: #1e40af; }
  
    .modal-overlay {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.7); z-index: 10000; backdrop-filter: blur(5px);
    }
    .modal {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: white; border-radius: 20px; padding: 25px 35px; max-width: 900px; width: 95%;
      max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); z-index: 10001;
    }
    
    .pdf-modal {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: white; border-radius: 20px; width: 90%; height: 90%;
      max-width: 1200px; max-height: 90vh; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      z-index: 10001; display: flex; flex-direction: column;
    }
    .pdf-header {
      padding: 20px; background: #f7fafc; border-radius: 20px 20px 0 0;
      display: flex; justify-content: space-between; align-items: center;
      border-bottom: 1px solid #e2e8f0;
    }
    .pdf-header h3 { margin: 0; color: #2d3748; font-size: 1.3em; }
    .pdf-viewer { flex: 1; padding: 20px; overflow: hidden; }
    .pdf-viewer iframe {
      width: 100%; height: 100%; border: none; border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
  
    #quantumProposalModal .modal-overlay {
      pointer-events: auto;
    }
  
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 5px; color: #4a5568; font-weight: 600; font-size: 1.05em; }
    .form-group input, .form-group select, .form-group textarea {
      width: 100%; padding: 14px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1.05em; transition: border-color 0.3s ease;
    }
    .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: #1e3a8a; }
    .form-group small { display: block; margin-top: 5px; color: #718096; font-size: 0.95em; }
  
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
  
    .pricing-summary { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 20px; border-radius: 15px; margin: 20px 0; border: 2px solid #1e3a8a; }
    .pricing-summary h4 { margin: 0 0 15px 0; color: #2d3748; font-size: 1.3em; text-align: center; }
  
    .modal-buttons { display: flex; gap: 15px; margin-top: 25px; }
    .btn-primary { background: #1e3a8a; flex: 2; }
    .btn-primary:hover { background: #1e40af; }
    .btn-secondary { background: #64748b; flex: 1; }
    .btn-secondary:hover { background: #475569; }
  
    .close-btn { background: #e53e3e; color: white; border: none; padding: 10px 22px; border-radius: 20px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; font-size: 1.05em; }
    .close-btn:hover { background: #c53030; transform: scale(1.05); }
  
    .success-popup { background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); border: 2px solid #28a745; color: #155724; padding: 20px; border-radius: 15px; text-align: center; font-size: 1.05em; }
    .error-popup   { background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%); border: 2px solid #dc3545; color: #721c24; padding: 20px; border-radius: 15px; text-align: center; font-size: 1.05em; }
  
    .loading-spinner {
      display: inline-block; width: 20px; height: 20px; border: 3px solid #f3f3f3; border-top: 3px solid #1e3a8a;
      border-radius: 50%; animation: spin 1s linear infinite;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    /* Video Library Styles */
    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .video-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid #e2e8f0;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .video-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
      border-color: #1e3a8a;
    }

    .video-thumbnail {
      width: 100%;
      height: 180px;
      object-fit: cover;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 48px;
    }

    .video-info {
      padding: 15px;
    }

    .video-title {
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 8px;
      font-size: 1em;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .video-meta {
      color: #718096;
      font-size: 0.85em;
      margin-bottom: 12px;
    }

    .video-actions {
      display: flex;
      gap: 8px;
    }

    .video-actions button {
      flex: 1;
      padding: 8px 12px;
      font-size: 0.9em;
    }
  </style>
</head>
  
<body>
  <div class="company-switcher">
    <a href="index.html" class="company-btn">
      <img src="images/abbondanza-logo.png" alt="Abbondanza" class="company-logo abbondanza-logo">
      <span>Abbondanza Vending LLC</span>
    </a>
    <button class="company-btn active" type="button">
      <img src="images/quantum-logo-transparent.png" alt="Quantum Solutions" class="company-logo">
      <span>Quantum Solutions</span>
    </button>
  </div>
  
  <div class="dashboard-container">
    <div class="header">
      <h1>Quantum Solutions Dashboard</h1>
      <p>Smart Food Fridge Solutions for Modern Businesses</p>
    </div>
  
    <div class="quantum-grid">
      <div class="card">
        <h2>How We Stack Up</h2>
        <p>Marketing materials and competitive analysis showing Quantum Solutions advantages over traditional vending.</p>
        <button onclick="openQuantumAboutUs()" class="btn" type="button">View Materials</button>
      </div>
  
      <div class="card">
        <h2>Proposal Management</h2>
        <p>Create and access Smart Food Fridge proposals with comprehensive pricing analysis and searchable library.</p>
        <div style="display:flex;gap:15px;margin-top:18px;">
          <button onclick="openQuantumProposalGenerator()" class="btn" style="flex:1;" type="button">Generate Proposal</button>
          <button onclick="openQuantumProposalViewer()" class="btn" style="flex:1;" type="button">View Library</button>
        </div>
      </div>

      <div class="card">
        <h2>Onboarding New Client</h2>
        <p>Complete new customer account setup forms and master service agreements for enterprise partnerships.</p>
        <div style="display:flex;gap:15px;margin-top:18px;">
          <button onclick="downloadNewCustomerForm()" class="btn" style="flex:1;" type="button">New Customer Account Form</button>
          <button onclick="openQuantumMasterAgreement()" class="btn" style="flex:1;" type="button">Master Services Agreement</button>
        </div>
      </div>

      <div class="card">
        <h2>📹 Video Library</h2>
        <p>Access and manage client-facing videos. Show or hide videos as needed for presentations and training.</p>
        <button onclick="openVideoLibrary()" class="btn" type="button">Open Video Library</button>
      </div>
  
      <div class="card">
        <h2>ROI Calculator</h2>
        <p>Interactive calculator to demonstrate cost savings and return on investment for potential clients.</p>
        <button onclick="openQuantumROICalculator()" class="btn" type="button">Open Calculator</button>
      </div>
  
      <div class="card">
        <h2>Lead Logger</h2>
        <p>Track and manage sales leads with company-specific categorization and comprehensive follow-up system.</p>
        <button onclick="openQuantumLeadLogger()" class="btn" type="button">Open Lead Logger</button>
      </div>
    </div>
  </div>
  
  <div id="quantumProposalModal" class="modal-overlay">
    <div class="modal" onclick="event.stopPropagation()">
      <h3>Generate Smart Food Fridge Proposal</h3>
  
      <div class="form-row">
        <div class="form-group">
          <label for="quantumCompanyName">Company Name *</label>
          <input type="text" id="quantumCompanyName" name="quantumCompanyName" required>
        </div>
        <div class="form-group">
          <label for="quantumContactName">Contact Name (Optional)</label>
          <input type="text" id="quantumContactName" name="quantumContactName" placeholder="Leave blank if unknown">
        </div>
      </div>
  
      <div class="form-row">
        <div class="form-group">
          <label for="customerAddress">Customer Address *</label>
          <input type="text" id="customerAddress" name="customerAddress" placeholder="City, State" required>
        </div>
        <div class="form-group">
          <label for="customerZip">Customer Zip Code *</label>
          <input type="text" id="customerZip" name="customerZip" pattern="[0-9]{5}" maxlength="5" placeholder="12345" required onchange="updateQuantumPricingSummary()">
          <small>Used for freight calculation</small>
        </div>
      </div>
  
      <div class="form-row">
        <div class="form-group">
          <label for="quantumPreparedBy">Your Name *</label>
          <input type="text" id="quantumPreparedBy" name="quantumPreparedBy" required>
        </div>
        <div class="form-group">
          <label for="quantumPreparedByPhone">Your Phone *</label>
          <input type="tel" id="quantumPreparedByPhone" name="quantumPreparedByPhone" required>
        </div>
      </div>
  
      <div class="form-group">
        <label for="quantumPreparedByEmail">Your Email *</label>
        <input type="email" id="quantumPreparedByEmail" name="quantumPreparedByEmail" required>
      </div>
  
      <div class="form-row">
        <div class="form-group">
          <label for="customerType">Customer Type *</label>
          <select id="customerType" name="customerType" required onchange="updateCustomerType()">
            <option value="new" selected>New Customer (includes scanner)</option>
            <option value="existing">Existing Customer (has scanner)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="quantumFridgeCount">Number of Fridges *</label>
          <input type="number" id="quantumFridgeCount" name="quantumFridgeCount" min="1" value="1" required onchange="updateQuantumPricingSummary()">
        </div>
      </div>
  
      <div class="form-group">
        <label for="scannerCount">RFID Scanners Needed *</label>
        <select id="scannerCount" name="scannerCount" required onchange="updateQuantumPricingSummary()">
          <option value="0">0 scanners</option>
          <option value="1" selected>1 scanner</option>
          <option value="2">2 scanners</option>
          <option value="3">3 scanners</option>
          <option value="4">4 scanners</option>
          <option value="5">5 scanners</option>
          <option value="6">6 scanners</option>
          <option value="7">7 scanners</option>
          <option value="8">8 scanners</option>
          <option value="9">9 scanners</option>
          <option value="10">10 scanners</option>
          <option value="11">11 scanners</option>
          <option value="12">12 scanners</option>
          <option value="13">13 scanners</option>
          <option value="14">14 scanners</option>
          <option value="15">15 scanners</option>
        </select>
        <small>New customers typically need 1 scanner per location. Additional scanners for backup or multiple sites.</small>
      </div>
  
      <div class="form-row">
        <div class="form-group">
          <label for="rfidRolls">RFID Tag Rolls (1,000 tags per roll) *</label>
          <input type="number" id="rfidRolls" name="rfidRolls" min="0" max="50" value="5" required onchange="updateQuantumPricingSummary()">
          <small>Recommended starting quantity: 5 rolls. $0.18 per tag ($180 per roll).</small>
        </div>
        <div class="form-group">
          <label for="shippingPerUnit">Shipping Cost Per Fridge *</label>
          <input type="number" id="shippingPerUnit" name="shippingPerUnit" min="0" step="0.01" value="600" required onchange="updateQuantumPricingSummary()">
          <small>Enter shipping cost per fridge (e.g., $600). Total shipping = cost per fridge × number of fridges.</small>
        </div>
      </div>
  
      <div class="form-row">
        <div class="form-group">
          <label for="shippingMethod">Shipping Method *</label>
          <select id="shippingMethod" name="shippingMethod" required>
            <option value="">Loading shipping methods...</option>
          </select>
          <small>Select the shipping method for detailed terms and conditions.</small>
        </div>
        <div class="form-group">
          <label for="countryOfOrigin">Country of Origin *</label>
          <select id="countryOfOrigin" name="countryOfOrigin" required>
            <option value="">Loading countries...</option>
          </select>
          <small>Select country of origin for specific shipping notices and requirements.</small>
        </div>
      </div>
  
      <div class="pricing-summary">
        <h4>Proposal Summary</h4>
        <div id="quantumPricingSummary"></div>
      </div>
  
      <div class="modal-buttons">
        <button class="btn btn-secondary" onclick="closeQuantumModal('quantumProposalModal')" style="flex:1;background:#64748b;" type="button">Cancel</button>
        <button class="btn btn-primary" id="generateQuantumBtn" type="button" onclick="generateQuantumProposal()">Generate Proposal PDF</button>
      </div>
    </div>
  </div>
  
  <script>
    const VIDEO_LIBRARY_URL = 'https://script.google.com/macros/s/AKfycbxFS2mSdcK0SSF4qFPRKF_jUVqnVkSBW4btCLCbVyy_3MWo4SR4cJ-CNURGf4xRPk3a/exec';

    // ========================================
    // VIDEO LIBRARY FUNCTIONS
    // ========================================
    
    window.openVideoLibrary = function openVideoLibrary() {
      const existingOverlay = document.querySelector('.video-library-overlay');
      if (existingOverlay) existingOverlay.remove();

      window.allVideos = null;
      window.showHiddenVideos = false;

      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay video-library-overlay';
      overlay.style.display = 'block';

      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.style.maxWidth = '1200px';

      modal.innerHTML = 
        '<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid #e2e8f0;">' +
          '<h3 id="videoLibraryTitle" style="margin:0;color:#2d3748;font-size:1.8em;">📹 Video Library</h3>' +
          '<button class="close-btn" onclick="closeVideoLibrary()">✕</button>' +
        '</div>' +
        '<div style="margin-bottom:20px;display:flex;gap:10px;">' +
          '<div style="flex:1;position:relative;">' +
            '<input type="text" id="videoSearch" placeholder="Search videos by name..." style="width:100%;padding:15px 45px 15px 15px;font-size:16px;border:2px solid #e2e8f0;border-radius:10px;transition:all .3s ease;" onkeyup="filterVideos()" onfocus="this.style.borderColor=\'#1e3a8a\'" onblur="this.style.borderColor=\'#e2e8f0\'">' +
            '<button id="clearVideoSearchBtn" onclick="document.getElementById(\'videoSearch\').value=\'\'; this.style.display=\'none\'; filterVideos();" style="position:absolute;right:10px;top:50%;transform:translateY(-50%);background:#e2e8f0;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;display:none;transition:all .3s ease;font-size:18px;color:#4a5568;">×</button>' +
          '</div>' +
          '<button id="toggleHiddenBtn" class="btn" onclick="toggleHiddenView()" style="padding:15px 25px;white-space:nowrap;background:#64748b;">👁️ Show Hidden</button>' +
        '</div>' +
        '<div id="videosList" style="max-height:65vh;overflow-y:auto;">' +
          '<div style="text-align:center;padding:40px;">' +
            '<div class="loading-spinner"></div>' +
            '<p style="margin-top:20px;color:#718096;">Loading videos from library...</p>' +
          '</div>' +
        '</div>';
      
      overlay.appendChild(modal);
      document.body.appendChild(overlay);

      setTimeout(function() { loadVideosFromDrive(); }, 100);
    };

    window.closeVideoLibrary = function closeVideoLibrary() {
      const overlay = document.querySelector('.video-library-overlay');
      if (overlay) overlay.remove();
    };

    window.toggleHiddenView = function toggleHiddenView() {
      window.showHiddenVideos = !window.showHiddenVideos;
      
      const toggleBtn = document.getElementById('toggleHiddenBtn');
      const libraryTitle = document.getElementById('videoLibraryTitle');
      
      if (window.showHiddenVideos) {
        toggleBtn.textContent = '📋 Show Active';
        toggleBtn.style.background = '#1e3a8a';
        libraryTitle.textContent = '🔒 Hidden Videos';
      } else {
        toggleBtn.textContent = '👁️ Show Hidden';
        toggleBtn.style.background = '#64748b';
        libraryTitle.textContent = '📹 Video Library';
      }
      
      filterVideos();
    };

    function loadVideosFromDrive() {
      try {
        const callbackName = 'videosCallback_' + Date.now();
        const promise = new Promise(function(resolve, reject) {
          window[callbackName] = function(data) { delete window[callbackName]; resolve(data); };
          setTimeout(function() { delete window[callbackName]; reject(new Error('Request timeout')); }, 20000);
        });

        const script = document.createElement('script');
        const url = VIDEO_LIBRARY_URL + '?action=getVideos&callback=' + callbackName;
        script.src = url;

        script.onerror = function() {
          delete window[callbackName];
          const videosList = document.getElementById('videosList');
          if (videosList) {
            videosList.innerHTML = 
              '<div style="text-align:center;padding:40px;">' +
                '<p style="color:#e53e3e;margin-bottom:20px;font-size:18px;">Unable to load videos.</p>' +
                '<button class="btn btn-primary" onclick="openVideoLibrary()">Try Again</button>' +
              '</div>';
          }
        };

        document.body.appendChild(script);
        promise.then(function(data) {
          document.body.removeChild(script);
          if (data.status === 'success') {
            const sortedVideos = (data.videos || []).sort(function(a, b) { 
              return new Date(b.modifiedTime) - new Date(a.modifiedTime); 
            });
            window.allVideos = sortedVideos;
            displayVideos(sortedVideos);
          } else {
            throw new Error(data.message || 'Failed to load videos');
          }
        }).catch(function(error) {
          const videosList = document.getElementById('videosList');
          if (videosList) {
            videosList.innerHTML = 
              '<div style="text-align:center;padding:40px;">' +
                '<p style="color:#e53e3e;margin-bottom:20px;font-size:18px;">Unable to load videos.</p>' +
                '<p style="color:#718096;margin-bottom:20px;">Error: ' + error.message + '</p>' +
                '<button class="btn btn-primary" onclick="openVideoLibrary()">Try Again</button>' +
              '</div>';
          }
        });
      } catch (error) {
        const videosList = document.getElementById('videosList');
        if (videosList) {
          videosList.innerHTML = 
            '<div style="text-align:center;padding:40px;">' +
              '<p style="color:#e53e3e;margin-bottom:20px;font-size:18px;">Unable to load videos.</p>' +
              '<p style="color:#718096;margin-bottom:20px;">Error: ' + error.message + '</p>' +
              '<button class="btn btn-primary" onclick="openVideoLibrary()">Try Again</button>' +
            '</div>';
        }
      }
    }

    function displayVideos(videos) {
      const videosList = document.getElementById('videosList');
      if (!videosList) return;
      
      const filtered = videos.filter(function(v) {
        if (window.showHiddenVideos) {
          return v.status === 'hidden';
        } else {
          return v.status === 'active';
        }
      });
      
      if (filtered.length === 0) {
        const emptyMessage = window.showHiddenVideos 
          ? 'No hidden videos found.' 
          : 'No active videos found in the library.';
        videosList.innerHTML = '<div style="text-align:center;padding:40px;color:#718096;"><p>' + emptyMessage + '</p></div>';
        return;
      }
      
      videosList.innerHTML = '<div class="video-grid">' + filtered.map(function(video) {
        const isHidden = video.status === 'hidden';
        const fileSize = formatFileSize(video.size);
        const actionButton = isHidden 
          ? '<button class="btn" onclick="unhideVideo(\'' + video.id + '\', \'' + video.name.replace(/'/g, "\\'") + '\')" style="padding:8px 12px;background:#10b981;font-size:0.9em;">♻️ Restore</button>'
          : '<button class="btn" onclick="hideVideo(\'' + video.id + '\', \'' + video.name.replace(/'/g, "\\'") + '\')" style="padding:8px 12px;background:#f59e0b;font-size:0.9em;">🔒 Hide</button>';
        
        return (
          '<div class="video-card">' +
            '<div class="video-thumbnail">🎬</div>' +
            '<div class="video-info">' +
              '<div class="video-title">' + video.name + '</div>' +
              '<div class="video-meta">Size: ' + fileSize + '</div>' +
              '<div class="video-actions">' +
                '<button class="btn btn-primary" onclick="playVideo(\'' + video.id + '\', \'' + video.name.replace(/'/g, "\\'") + '\')" style="padding:8px 12px;font-size:0.9em;">▶️ Play</button>' +
                actionButton +
              '</div>' +
            '</div>' +
          '</div>'
        );
      }).join('') + '</div>';
    }

    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
    }

    window.filterVideos = function filterVideos() {
      const searchInput = document.getElementById('videoSearch');
      const term = (searchInput.value || '').toLowerCase();
      const videosList = document.getElementById('videosList');
      const clearBtn = document.getElementById('clearVideoSearchBtn');
      clearBtn.style.display = term.length > 0 ? 'block' : 'none';

      if (!window.allVideos || window.allVideos.length === 0) return;
      
      let videos = window.allVideos.filter(function(v) {
        if (window.showHiddenVideos) {
          return v.status === 'hidden';
        } else {
          return v.status === 'active';
        }
      });
      
      if (term) {
        videos = videos.filter(function(v) {
          return v.name.toLowerCase().includes(term);
        });
      }
      
      if (videos.length === 0) {
        const emptyMessage = term 
          ? 'No videos found matching "<strong>' + term + '</strong>"'
          : (window.showHiddenVideos ? 'No hidden videos found.' : 'No active videos found.');
        videosList.innerHTML = 
          '<div style="text-align:center;padding:40px;color:#718096;">' +
            '<p style="font-size:18px;">' + emptyMessage + '</p>' +
            (term ? '<p style="margin-top:10px;">Try searching for a different video name.</p>' : '') +
          '</div>';
      } else {
        displayVideos(videos);
      }
    };

    window.playVideo = function playVideo(fileId, videoName) {
      const videoViewerOverlay = document.querySelector('.video-viewer-overlay');
      if (videoViewerOverlay) videoViewerOverlay.remove();
      
      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay video-viewer-overlay';
      overlay.style.display = 'block';

      const pdfModal = document.createElement('div');
      pdfModal.className = 'pdf-modal';

      const videoUrl = 'https://drive.google.com/file/d/' + fileId + '/preview';

      pdfModal.innerHTML = 
        '<div class="pdf-header">' +
          '<h3>▶️ ' + videoName + '</h3>' +
          '<div style="display:flex;gap:10px;align-items:center;">' +
            '<button class="btn btn-primary" onclick="closePDFViewer(); setTimeout(openVideoLibrary, 200);" style="padding:10px 20px;">← Back to Library</button>' +
            '<button class="btn btn-secondary" onclick="window.open(\'https://drive.google.com/uc?export=download&id=' + fileId + '\', \'_blank\')" style="padding:10px 20px;">📥 Download</button>' +
            '<button class="close-btn" onclick="closePDFViewer()">✕</button>' +
          '</div>' +
        '</div>' +
        '<div class="pdf-viewer" style="background:#000;">' +
          '<iframe src="' + videoUrl + '" width="100%" height="100%" allowfullscreen allow="autoplay"></iframe>' +
        '</div>';
      
      overlay.appendChild(pdfModal);
      document.body.appendChild(overlay);
    };

    window.hideVideo = function hideVideo(fileId, videoName) {
      const confirmOverlay = document.createElement('div');
      confirmOverlay.className = 'modal-overlay';
      confirmOverlay.style.display = 'block';
      confirmOverlay.style.zIndex = '20000';

      confirmOverlay.innerHTML = 
        '<div class="modal" style="max-width:500px;" onclick="event.stopPropagation()">' +
          '<h3 style="margin-bottom:20px;color:#2d3748;">Hide Video?</h3>' +
          '<p style="color:#4a5568;margin-bottom:10px;line-height:1.6;">Are you sure you want to hide:</p>' +
          '<p style="color:#1e3a8a;font-weight:600;margin-bottom:20px;font-size:1.1em;">' + videoName + '</p>' +
          '<p style="color:#718096;margin-bottom:25px;font-size:0.95em;">This will move it to the Hidden folder.</p>' +
          '<div style="display:flex;gap:15px;margin-top:25px;">' +
            '<button class="btn btn-secondary" onclick="this.closest(\'.modal-overlay\').remove()" style="flex:1;">Cancel</button>' +
            '<button class="btn" onclick="confirmHideVideo(\'' + fileId + '\', \'' + videoName.replace(/'/g, "\\'") + '\'); this.closest(\'.modal-overlay\').remove();" style="flex:1;background:#f59e0b;">🔒 Hide</button>' +
          '</div>' +
        '</div>';
      
      document.body.appendChild(confirmOverlay);
    };

    window.confirmHideVideo = function confirmHideVideo(fileId, videoName) {
      const videosList = document.getElementById('videosList');
      if (videosList) {
        videosList.innerHTML = 
          '<div style="text-align:center;padding:40px;">' +
            '<div class="loading-spinner"></div>' +
            '<p style="margin-top:20px;color:#718096;">Hiding video...</p>' +
          '</div>';
      }

      try {
        const callbackName = 'hideCallback_' + Date.now();
        const promise = new Promise(function(resolve, reject) {
          window[callbackName] = function(data) { 
            delete window[callbackName]; 
            resolve(data); 
          };
          setTimeout(function() { 
            delete window[callbackName]; 
            reject(new Error('Request timeout')); 
          }, 20000);
        });

        const script = document.createElement('script');
        const url = VIDEO_LIBRARY_URL + '?action=hideVideo&fileId=' + encodeURIComponent(fileId) + '&fileName=' + encodeURIComponent(videoName) + '&callback=' + callbackName;
        script.src = url;

        script.onerror = function() {
          delete window[callbackName];
          showQuantumPopup(
            '<div class="error-popup">' +
              '<h3>❌ Hide Failed</h3>' +
              '<p>Unable to hide the video. Please try again.</p>' +
            '</div>',
            'error'
          );
          loadVideosFromDrive();
        };

        document.body.appendChild(script);
        promise.then(function(data) {
          document.body.removeChild(script);
          if (data.status === 'success') {
            showQuantumPopup(
              '<div class="success-popup">' +
                '<h3>✅ Video Hidden</h3>' +
                '<p><strong>' + videoName + '</strong> has been hidden.</p>' +
              '</div>',
              'success'
            );
            loadVideosFromDrive();
          } else {
            throw new Error(data.message || 'Failed to hide video');
          }
        }).catch(function(error) {
          showQuantumPopup(
            '<div class="error-popup">' +
              '<h3>❌ Hide Failed</h3>' +
              '<p>' + error.message + '</p>' +
            '</div>',
            'error'
          );
          loadVideosFromDrive();
        });
      } catch (error) {
        showQuantumPopup(
          '<div class="error-popup">' +
            '<h3>❌ Hide Failed</h3>' +
            '<p>' + error.message + '</p>' +
          '</div>',
          'error'
        );
        loadVideosFromDrive();
      }
    };

    window.unhideVideo = function unhideVideo(fileId, videoName) {
      const confirmOverlay = document.createElement('div');
      confirmOverlay.className = 'modal-overlay';
      confirmOverlay.style.display = 'block';
      confirmOverlay.style.zIndex = '20000';

      confirmOverlay.innerHTML = 
        '<div class="modal" style="max-width:500px;" onclick="event.stopPropagation()">' +
          '<h3 style="margin-bottom:20px;color:#2d3748;">Restore Video?</h3>' +
          '<p style="color:#4a5568;margin-bottom:10px;line-height:1.6;">Are you sure you want to restore:</p>' +
          '<p style="color:#1e3a8a;font-weight:600;margin-bottom:20px;font-size:1.1em;">' + videoName + '</p>' +
          '<p style="color:#718096;margin-bottom:25px;font-size:0.95em;">This will move it back to the active video library.</p>' +
          '<div style="display:flex;gap:15px;margin-top:25px;">' +
            '<button class="btn btn-secondary" onclick="this.closest(\'.modal-overlay\').remove()" style="flex:1;">Cancel</button>' +
            '<button class="btn" onclick="confirmUnhideVideo(\'' + fileId + '\', \'' + videoName.replace(/'/g, "\\'") + '\'); this.closest(\'.modal-overlay\').remove();" style="flex:1;background:#10b981;">♻️ Restore</button>' +
          '</div>' +
        '</div>';
      
      document.body.appendChild(confirmOverlay);
    };

    window.confirmUnhideVideo = function confirmUnhideVideo(fileId, videoName) {
      const videosList = document.getElementById('videosList');
      if (videosList) {
        videosList.innerHTML = 
          '<div style="text-align:center;padding:40px;">' +
            '<div class="loading-spinner"></div>' +
            '<p style="margin-top:20px;color:#718096;">Restoring video...</p>' +
          '</div>';
      }

      try {
        const callbackName = 'unhideCallback_' + Date.now();
        const promise = new Promise(function(resolve, reject) {
          window[callbackName] = function(data) { 
            delete window[callbackName]; 
            resolve(data); 
          };
          setTimeout(function() { 
            delete window[callbackName]; 
            reject(new Error('Request timeout')); 
          }, 20000);
        });

        const script = document.createElement('script');
        const url = VIDEO_LIBRARY_URL + '?action=unhideVideo&fileId=' + encodeURIComponent(fileId) + '&fileName=' + encodeURIComponent(videoName) + '&callback=' + callbackName;
        script.src = url;

        script.onerror = function() {
          delete window[callbackName];
          showQuantumPopup(
            '<div class="error-popup">' +
              '<h3>❌ Restore Failed</h3>' +
              '<p>Unable to restore the video. Please try again.</p>' +
            '</div>',
            'error'
          );
          loadVideosFromDrive();
        };

        document.body.appendChild(script);
        promise.then(function(data) {
          document.body.removeChild(script);
          if (data.status === 'success') {
            showQuantumPopup(
              '<div class="success-popup">' +
                '<h3>✅ Video Restored</h3>' +
                '<p><strong>' + videoName + '</strong> has been restored to the active library.</p>' +
              '</div>',
              'success'
            );
            loadVideosFromDrive();
          } else {
            throw new Error(data.message || 'Failed to restore video');
          }
        }).catch(function(error) {
          showQuantumPopup(
            '<div class="error-popup">' +
              '<h3>❌ Restore Failed</h3>' +
              '<p>' + error.message + '</p>' +
            '</div>',
            'error'
          );
          loadVideosFromDrive();
        });
      } catch (error) {
        showQuantumPopup(
          '<div class="error-popup">' +
            '<h3>❌ Restore Failed</h3>' +
            '<p>' + error.message + '</p>' +
          '</div>',
          'error'
        );
        loadVideosFromDrive();
      }
    };

    // ========================================
    // EXISTING QUANTUM DASHBOARD FUNCTIONS
    // ========================================
    
    window.viewQuantumMaterialPDF = function viewQuantumMaterialPDF(fileId, title, fileType) {
      const materialsOverlay = document.querySelector('.modal-overlay');
      if (materialsOverlay) materialsOverlay.remove();
      
      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay';
      overlay.style.display = 'block';
  
      const pdfModal = document.createElement('div');
      pdfModal.className = 'pdf-modal';
      
      let viewerUrl, downloadUrl;
      if (fileType === 'slides') {
        viewerUrl = 'https://docs.google.com/presentation/d/' + fileId + '/preview';
        downloadUrl = 'https://docs.google.com/presentation/d/' + fileId + '/export/pdf';
      } else if (fileType === 'sheets') {
        const pdfExportUrl = 'https://docs.google.com/spreadsheets/d/' + fileId + '/export?format=pdf&portrait=true&fitw=true&gridlines=true';
        viewerUrl = 'https://docs.google.com/viewer?url=' + encodeURIComponent(pdfExportUrl) + '&embedded=true';
        downloadUrl = pdfExportUrl;
      } else if (fileType === 'docs') {
        viewerUrl = 'https://docs.google.com/document/d/' + fileId + '/preview';
        downloadUrl = 'https://docs.google.com/document/d/' + fileId + '/export?format=pdf';
      } else if (fileType === 'pdf') {
        viewerUrl = 'https://drive.google.com/file/d/' + fileId + '/preview';
        downloadUrl = 'https://drive.google.com/uc?export=download&id=' + fileId;
      } else {
        viewerUrl = 'https://drive.google.com/file/d/' + fileId + '/preview';
        downloadUrl = 'https://drive.google.com/uc?export=download&id=' + fileId;
      }
  
      pdfModal.innerHTML = 
        '<div class="pdf-header">' +
          '<h3>' + title + '</h3>' +
          '<div style="display:flex;gap:10px;align-items:center;">' +
            '<button class="btn btn-primary" onclick="closePDFViewer(); setTimeout(openQuantumAboutUs, 200);" style="padding:10px 20px;">← Back to Materials</button>' +
            '<button class="btn btn-secondary" onclick="window.open(\'' + downloadUrl + '\',\'_blank\')" style="padding:10px 20px;">📥 Download</button>' +
            '<button class="close-btn" onclick="closePDFViewer()">✕</button>' +
          '</div>' +
        '</div>' +
        '<div class="pdf-viewer">' +
          '<iframe src="' + viewerUrl + '" width="100%" height="100%" allowfullscreen></iframe>' +
        '</div>';
      
      overlay.appendChild(pdfModal);
      document.body.appendChild(overlay);
    };

    function downloadNewCustomerForm() {
      const existingOverlay = document.querySelector('.modal-overlay');
      if (existingOverlay) existingOverlay.remove();
      
      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay';
      overlay.style.display = 'block';
  
      const modal = document.createElement('div');
      modal.className = 'pdf-modal';
  
      const docId = '1LGvkY0K9_ZlQwaCfWRbLUFDXefQUfBKeytXmz3X8-Kc';
      const pdfUrl = 'https://docs.google.com/document/d/' + docId + '/export?format=pdf';
      const viewerUrl = 'https://docs.google.com/document/d/' + docId + '/preview';
  
      modal.innerHTML = 
        '<div class="pdf-header">' +
          '<h3>New Customer Account Setup Form</h3>' +
          '<div style="display:flex;gap:10px;align-items:center;">' +
            '<button class="btn btn-secondary" onclick="window.open(\'' + pdfUrl + '\',\'_blank\')" style="padding:10px 20px;">📥 Download PDF</button>' +
            '<button class="close-btn" onclick="closePDFViewer()">✕</button>' +
          '</div>' +
        '</div>' +
        '<div class="pdf-viewer">' +
          '<iframe src="' + viewerUrl + '" width="100%" height="100%" allowfullscreen></iframe>' +
        '</div>';
      
      overlay.appendChild(modal);
      document.body.appendChild(overlay);
    }
    window.downloadNewCustomerForm = downloadNewCustomerForm;

    window.openQuantumAboutUs = function openQuantumAboutUs() {
      const existingOverlay = document.querySelector('.modal-overlay');
      if (existingOverlay) existingOverlay.remove();
  
      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay';
      overlay.style.display = 'block';
  
      const modal = document.createElement('div');
      modal.className = 'modal';
  
      const materials = [
        { title: 'Restaurant Industry Trends Report', id: '1MejzxfsJ7VHR9OzwYuO7iEWUdDPrcLzO', description: 'Current market trends and insights for the restaurant industry', type: 'pdf' },
        { title: 'Maximizing Revenue Per Square Foot in Food Service Operations', id: '1hTRsDlrx0MRzmdVrqrOyfqg5-Gj-6RQC', description: 'Strategies to optimize space utilization and increase profitability', type: 'pdf' },
        { title: 'Fresh Food Fridge Spec Sheet', id: '1RO1IXd032eCKM4z4gr09QSouIyGXA8R74PSXj5afIas', description: 'Technical specifications and features of our Smart Food Fridge', type: 'slides' },
        { title: 'Food Fridge Executive Overview', id: '1YFa7vPZC89YE4OM5wW5LTGwF5WD3lZAE', description: 'High-level overview and business benefits for decision makers', type: 'pdf' },
        { title: 'Commercial Real Estate Premium Food Amenities', id: '1eUfU0i5WD9KEg46biTguBCyQef_OxBi0', description: 'How premium food amenities enhance commercial property value', type: 'pdf' },
        { title: 'Smart RFID Refrigerated Fresh Food Fridge Technical Deep Dive and FAQ', id: '1zmo7_EccscAMQ-10q5yFF9k9vFdXHe3c', description: 'Comprehensive technical documentation and frequently asked questions', type: 'pdf' },
        { title: 'Food Fridge Presentation Slide Deck With Proposal Example', id: '19hC90aDJgAQCiNOPACjzhxEdFoE2iaUMpfirP3kAgzs', description: 'Robust presentation with how to use videos and proposal', type: 'slides' }
      ];
  
      const cards = materials.map(function(m) {
        var downloadUrl;
        if (m.type === 'slides') { 
          downloadUrl = 'https://docs.google.com/presentation/d/' + m.id + '/export/pdf'; 
        }
        else if (m.type === 'docs') { 
          downloadUrl = 'https://docs.google.com/document/d/' + m.id + '/export?format=pdf'; 
        }
        else if (m.type === 'sheets') { 
          downloadUrl = 'https://docs.google.com/spreadsheets/d/' + m.id + '/export?format=pdf'; 
        }
        else { 
          downloadUrl = 'https://drive.google.com/uc?export=download&id=' + m.id; 
        }
        return (
          '<div style="background:#f8fafc;padding:25px;border-radius:15px;border:2px solid #e2e8f0;transition:all .3s ease;">' +
            '<div style="margin-bottom:20px;">' +
              '<h4 style="margin:0 0 10px 0;color:#1e3a8a;font-size:1.2em;font-weight:600;">' + m.title + '</h4>' +
              '<p style="margin:0;color:#64748b;font-size:.95em;line-height:1.5;">' + m.description + '</p>' +
            '</div>' +
            '<div style="display:flex;gap:15px;flex-wrap:wrap;">' +
              '<button class="btn btn-primary" onclick="viewQuantumMaterialPDF(\'' + m.id + '\', \'' + m.title.replace(/'/g, "\\'") + '\', \'' + m.type + '\')" style="padding:12px 24px;font-size:.9em;min-width:120px;font-weight:600;">👁️ View PDF</button>' +
              '<button class="btn btn-secondary" onclick="window.open(\'' + downloadUrl + '\',\'_blank\')" style="padding:12px 24px;font-size:.9em;min-width:120px;font-weight:600;">📥 Download</button>' +
            '</div>' +
          '</div>'
        );
      }).join('');
  
      modal.innerHTML =
        '<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid #e2e8f0;">' +
          '<h3 style="margin:0;color:#2d3748;font-size:1.8em;">How We Stack Up - Marketing Materials</h3>' +
          '<button class="close-btn" onclick="closeModal()">✕</button>' +
        '</div>' +
        '<div style="display:grid;gap:20px;">' + cards + '</div>';
  
      overlay.appendChild(modal);
      document.body.appendChild(overlay);
    };
  
    window.closeModal = function closeModal() {
      const overlay = document.querySelector('.modal-overlay');
      if (overlay) overlay.remove();
    };
    
    window.closePDFViewer = function closePDFViewer() {
      document.querySelectorAll('.modal-overlay').forEach(ov => {
        if (ov && ov.querySelector('.pdf-modal')) ov.remove();
      });
    };
  
    window.openQuantumProposalGenerator = function openQuantumProposalGenerator() {
      const warningOverlay = document.createElement('div');
      warningOverlay.className = 'modal-overlay';
      warningOverlay.style.display = 'block';
      warningOverlay.style.zIndex = '10000';

      warningOverlay.innerHTML = 
        '<div class="modal" style="max-width:700px;" onclick="event.stopPropagation()">' +
          '<div style="text-align:center;margin-bottom:25px;">' +
            '<div style="display:inline-block;width:80px;height:80px;background:#ef4444;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:15px;">' +
              '<span style="color:white;font-size:48px;font-weight:bold;">⛔</span>' +
            '</div>' +
            '<h3 style="margin:0;color:#dc2626;font-size:2em;font-weight:700;">STOP</h3>' +
            '<p style="color:#991b1b;font-size:1.2em;font-weight:600;margin-top:10px;">Before a proposal is made</p>' +
          '</div>' +
          '<div style="background:#fef2f2;border:2px solid #fecaca;border-radius:12px;padding:25px;margin-bottom:25px;">' +
            '<div style="margin-bottom:25px;">' +
              '<h4 style="color:#dc2626;margin:0 0 12px 0;font-size:1.15em;display:flex;align-items:center;gap:10px;">' +
                '<span style="background:#dc2626;color:white;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:bold;">1</span>' +
                'Did we contact Ken Piers (pronounced PIE-reese) @ REDYREF for a shipping quote?' +
              '</h4>' +
              '<div style="background:white;border:1px solid #fecaca;border-radius:8px;padding:15px;margin-top:15px;">' +
                '<p style="color:#7f1d1d;font-weight:600;margin:0 0 10px 0;font-size:1.05em;">📝 Notes on Shipping:</p>' +
                '<ul style="margin:0;padding-left:20px;color:#991b1b;line-height:1.7;">' +
                  '<li style="margin-bottom:10px;"><strong>Customer carrier option:</strong> Customer can choose their own carrier but must sign a damage waiver. Our shipping is covered with insurance. Claims are processed quickly (typically 30 days) when using our carrier. If client uses their own carrier, damage claims could take up to 1 year to resolve, if at all.</li>' +
                  '<li><strong>Quote flexibility:</strong> Shipping quote may change up or down the day it is shipped. Example: if item ships 10 weeks from order date, shipping might change and the difference will be invoiced or credited by REDYREF.</li>' +
                '</ul>' +
              '</div>' +
            '</div>' +
            '<div>' +
              '<h4 style="color:#dc2626;margin:0 0 12px 0;font-size:1.15em;display:flex;align-items:center;gap:10px;">' +
                '<span style="background:#dc2626;color:white;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:bold;">2</span>' +
                'Is the client financing?' +
              '</h4>' +
              '<div style="background:white;border:1px solid #fecaca;border-radius:8px;padding:15px;">' +
                '<p style="margin:0;color:#991b1b;line-height:1.7;"><strong>If NO:</strong> We need a <strong style="color:#dc2626;">50% deposit</strong> on the order with signature</p>' +
              '</div>' +
            '</div>' +
          '</div>' +
          '<div style="display:flex;gap:15px;margin-top:25px;">' +
            '<button class="btn btn-secondary" onclick="this.closest(\'.modal-overlay\').remove()" style="flex:1;font-size:1.05em;padding:14px;">❌ Cancel</button>' +
            '<button class="btn btn-primary" onclick="proceedToProposalGenerator()" style="flex:1;font-size:1.05em;padding:14px;background:#dc2626;border:none;">✅ I Understand - Continue</button>' +
          '</div>' +
        '</div>';
